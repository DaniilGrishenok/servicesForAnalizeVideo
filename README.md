# Сервисы для анализа видео

Данный репозиторий содержит сервисы для анализа видеоконтента. Эти сервисы были разработаны в рамках хакатона "Лига Цифровой трансформации" для обработки видео, предоставляемых через **YappySearchService**.  
Сервисы обрабатывают видеоконтент, извлекают ключевые данные и передают их обратно в виде метаданных для индексации и текстового поиска.

---

## Структура

### **1. Сервис распознавания речи**

**Описание**:  
Сервис извлекает аудиодорожку из видео и преобразует её в текст. Это позволяет извлекать семантическую информацию, диалоги и ключевые фразы из видео.  

**Технологии**:  
- **Python** — основной язык разработки.  
- **SpeechRecognition** — библиотека для преобразования аудио в текст.  
- **pydub** — для обработки и конвертации аудиофайлов.  
- **FFmpeg** — для извлечения аудиодорожки из видеоконтента.  

**Принцип работы**:  
1. Видеофайл обрабатывается с помощью **FFmpeg** для извлечения аудиодорожки.  
2. Аудио конвертируется в подходящий формат с помощью **pydub**.  
3. С помощью **SpeechRecognition** аудиофайл преобразуется в текст.  
4. Полученный текст возвращается в виде структурированных метаданных.  

---

### **2. Сервис анализа объектов**

**Описание**:  
Сервис анализирует визуальный контент видео, определяет объекты и выделяет ключевые сцены. Это позволяет извлекать семантику изображения и определять, что происходит в кадре.  

**Технологии**:  
- **Python** — основной язык разработки.  
- **OpenCV** — для обработки видеопотока.  
- **TensorFlow** — для распознавания объектов с использованием предобученных моделей машинного обучения.  

**Принцип работы**:  
1. Видеофайл разбивается на отдельные кадры с помощью **OpenCV**.  
2. Каждый кадр анализируется с использованием моделей распознавания объектов на базе **TensorFlow**.  
3. Для ключевых кадров извлекаются метаданные о содержимом: идентифицированные объекты, их координаты и частота появления.  
4. Сцены с высокой динамикой или уникальными объектами помечаются как ключевые.  

---

### **3. Сервис анализа текста**

**Описание**:  
Сервис извлекает текстовую информацию из видеоконтента, например титры, надписи или графические элементы. Это позволяет дополнительно анализировать контекст видео.  

**Технологии**:  
- **Python** — основной язык разработки.  
- **Tesseract OCR** — для распознавания текста на изображениях.  
- **OpenCV** — для извлечения кадров из видео.  

**Принцип работы**:  
1. Видео обрабатывается кадр за кадром с использованием **OpenCV**.  
2. Кадры проходят предобработку (обрезка, изменение яркости и контраста) для повышения точности распознавания текста.  
3. Из каждого кадра извлекается текстовая информация с помощью **Tesseract OCR**.  
4. Полученный текст возвращается в виде структурированных метаданных.  

---

=
# Развёртывание сервисов в Docker Compose

Для удобства развёртывания сервисов был создан **Docker Compose** файл, позволяющий запускать все сервисы в изолированных контейнерах.  

